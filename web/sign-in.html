<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>PlayTechSolutions - Login</title>
        <link rel="icon" href="assets/img/ico.png">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
              integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" />
        <link rel="stylesheet" href="assets/css/ionicons.min.css">
        <link rel="stylesheet" href="assets/css/style.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">

    </head>

    <body onload="prefillLoginForm();">


        <!-- Modal Search-->
        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true"> 
            <div class="modal-dialog modal-lg">
                <div class="modal-content shadow-lg border-0 rounded-lg">
                    <div class="modal-body p-4">
                        <form id="searchForm" action="shop.html" method="GET">
                            <div class="input-group mb-3">
                                <input type="search" class="form-control rounded-pill col-md-10" placeholder="Search for a product..."
                                       aria-label="Search" aria-describedby="search-addon" id="t" name="t" />
                                <button type="submit" style="color: white; background-color: #fb774b;"
                                        class="btn rounded-pill col-md-2 ml-3">Search</button>
                            </div>                 
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Heder -->
        <nav class="navbar navbar-expand-lg navbar-light bg-white py-3 fixed-top">
            <div class="container">
                <img src="assets/img/Logo.png" alt="logo">
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
                        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span><i id="bar" class="fa fa-bars" aria-hidden="true"></i></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="index.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="shop.html">Shop</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="contact.html">Contact Us</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="profile.html">Account</a>
                        </li>
                        <li class="nav-item">
                            <i class="fa fa-search" aria-hidden="true" data-bs-toggle="modal" data-bs-target="#exampleModal"></i>
                            <i onclick="window.location.href = 'cart.html'" class="fa fa-shopping-cart" aria-hidden="true"></i>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <!-- Section: Design Block -->
        <section class="background-radial-gradient overflow-hidden">


            <div class="container px-4 py-5 px-md-5 text-center text-lg-start my-5">
                <div class="row gx-lg-5 align-items-center mb-5">
                    <div class="col-lg-6 mb-5 mb-lg-0" style="z-index: 10">
                        <h1 class="my-5 display-5 fw-bold ls-tight" style="color: hsl(218, 81%, 95%)">
                            Play Tech Solutions<br />
                            <span style="color: hsl(218, 81%, 75%)">Log In</span>
                        </h1>
                        <p class="mb-4 opacity-70" style="color: hsl(218, 81%, 85%)">
                            The login page allows a user to gain access to an application by entering their username Password So Please
                            Login to Continue Access Our Services
                        </p>
                    </div>

                    <div class="col-lg-6 mb-5 mb-lg-0 position-relative my-5 py-5">
                        <div id="radius-shape-1" class="position-absolute rounded-circle shadow-5-strong"></div>
                        <div id="radius-shape-2" class="position-absolute shadow-5-strong"></div>

                        <div class="card bg-glass">
                            <div class="card-body px-4 py-5 px-md-5">


                                <!-- Email input -->
                                <div class="form-outline mb-4">
                                    <input type="email" id="email" name="email" class="form-control" />
                                    <label class="form-label" for="form3Example3">Email address</label>
                                </div>

                                <!-- Password input -->
                                <div class="form-outline mb-4">
                                    <input type="password" id="password" name="password" class="form-control" />
                                    <label class="form-label" for="form3Example4">Password</label>
                                </div>

                                <!-- 2 column grid layout with text inputs for the first and last names -->
                                <div class="row">
                                    <div class="col-md-6 mb-4">
                                        <div class="form-outline">

                                            <input class="form-check-input" type="checkbox" id="rememberMe">
                                            <label class="form-check-label" for="rememberMe"> Remember Me</label>
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-4">
                                        <div class="form-outline">
                                            <a href="#" class="link-primary" onclick="forgotPassword();">Forgot Password?</a>
                                        </div>
                                    </div>
                                </div>

                                <!-- Checkbox -->
                                <div class="form-check d-flex justify-content-center mb-4">
                                    <p class="mb-0">Don't have an account? <a href="sign-up.html" class="text-black-50 fw-bold">Sign Up</a>
                                    </p>
                                </div>

                                <!-- Submit button -->
                                <p class="text-danger" id="message"></p>
                                <button type="button" onclick="signinprocess();" class="btn btn-primary btn-block mb-4">
                                    Sign In
                                </button>

                                <div id="g_id_onload" data-client_id="CLIENT_ID.apps.googleusercontent.com" data-context="signin"
                                     data-ux_mode="popup" data-callback="handleCredentialResponse" data-auto_prompt="false">
                                </div>

                                <div class="g_id_signin" data-type="standard" data-shape="rectangular" data-theme="outline"
                                     data-text="signin_with" data-size="large" data-logo_alignment="left">
                                </div>
                                <br>
                                <!-- Display the user's profile info -->
                                <div class="pro-data hidden"></div>
                                <div class="col-12 d-none" id="msgdiv">
                                    <div class="alert alert-danger" role="alert">
                                        <i class="bi bi-x-octagon-fill fs-5" id="msg">


                                        </i>

                                    </div>


                                </div>




                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Section: Design Block -->










        <!-- modal -->

        <div class="modal" tabindex="-1" id="forgotPasswordModel">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Reset Password</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class=" row g-3">
                            <div class=" col-6">
                                <label class=" form-label">New Password</label>
                                <div class="input-group mb-3">
                                    <input type="password" class="form-control" id="npi">
                                    <button style="color: white; background-color: #fb774b;" class="btn" type="button" onclick="showPassword();"><i
                                            class="bi bi-eye-slash-fill" id="npb"></i></button>
                                </div>
                            </div>
                            <div class=" col-6">
                                <label class=" form-label">Re-type Password</label>
                                <div class="input-group mb-3">
                                    <input type="password" class="form-control" id="rpi">
                                    <button style="color: white; background-color: #fb774b;" class="btn" type="button" onclick="showPassword2();"><i
                                            class="bi bi-eye-slash-fill" id="rpb"></i></button>
                                </div>
                            </div>
                            <div class=" col-12">
                                <label class=" form-label">Verification Code</label>
                                <div class="input-group mb-3">
                                    <input type="text" class="form-control" id="vc">

                                </div>
                            </div>
                        </div>
                        <p class="text-danger" id="message2"></p>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-primary" onclick="resetpw();">Reset Password</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- modal -->



        <footer class="footer-07">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-md-12 text-center">
                        <h2 class="footer-heading"><a href="#" class="logo">PlayTechSolutions.com</a></h2>
                        <p class="menu">
                            <a href="index.html">Home</a>
                            <a href="shop.html">SHOP</a>
                            <a href="returenpolicy.html">Return Policy</a>
                            <a href="termsandconditions.html">Terms & Conditions</a>
                            <a href="privacypolicy.html">Privacy Policy</a>
                            <a href="contact.html">Contact Us</a>
                        </p>
                    </div>
                </div>
                <div class="row mt-5">
                    <div class="col-md-12 text-center">
                        <p class="copyright">
                            Copyright &copy;
                            <script>
                                document.write(new Date().getFullYear());
                            </script> All rights reserved | This Website is made by <a
                                href="https://pasanswijekoon.github.io/About/" target="_blank">@pasanwijekoon</a>

                    </div>
                </div>
            </div>
        </footer>


        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

        <script src="https://accounts.google.com/gsi/client" async></script>

        <script src="assets/js/sign-in.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"
                integrity="sha384-SR1sx49pcuLnqZUnnPwx6FCym0wLsk5JZuNx2bPPENzswTNFaQU1RDvt3wT4gWFG"
        crossorigin="anonymous"></script>

        <script>
                                // Function to get a cookie value by name
                                function getCookie(name) {
                                    const value = `; ${document.cookie}`;
                                    const parts = value.split(`; ${name}=`);
                                    if (parts.length === 2)
                                        return parts.pop().split(';').shift();
                                }

                                // Function to pre-fill the login form with the remembered email
                                function prefillLoginForm() {

                                    Sessionchecker();
                                    const rememberMeEmail = getCookie("userdata");

                                    if (rememberMeEmail) {
                                        document.getElementById("email").value = rememberMeEmail; // Pre-fill the email field
                                        document.getElementById("rememberMe").checked = true; // Check the "Remember Me" box
                                    }
                                }


                                async function Sessionchecker() {
                                    const response = await fetch("LoadProfileData");
                                    if (response.ok) {
                                        const json = await response.json();

                                        if (json.success) {
                                            window.location.reload("1ndex.html");
                                        } else {




                                        }


                                    } else {
                                        Swal.fire({
                                            title: "Error Occured",
                                            text: "Please try again later",
                                            icon: "error"
                                        });


                                    }

                                }
        </script>

    </body>

</html>